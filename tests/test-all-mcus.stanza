#use-added-syntax(jitx)
defpackage ocdb/tests/all-mcus:
  import core
  import jitx
  import jitx/commands
  import ocdb/micro-controllers
  import ocdb/defaults

val mpn = ["STM32F030C6T6" "STM32F030C8T6" "STM32F030CCT6" "STM32F051C4U6" "STM32F051C6U6" "STM32F051C6U7" "STM32F051C8U6" "STM32F051C8U7" "STM32F051T8Y6" "STM32F058C8U6" "STM32F058T8Y6" "STM32F070C6T6" "STM32F070CBT6" "STM32F071C8U6" "STM32F071CBU6" "STM32F071CBY6" "STM32F071CBY7" "STM32F071V8T6" "STM32F071V8T7" "STM32F071VBT6" "STM32F071VBT7" "STM32F072C8U6" "STM32F072C8U7" "STM32F072CBU6" "STM32F072CBU7" "STM32F072CBY6" "STM32F072CBY7" "STM32F072RBI6" "STM32F072RBI7" "STM32F072V8T6" "STM32F072VBT6" "STM32F078CBY6" "STM32F078VBT6" "STM32F100C4T6" "STM32F100C4T7" "STM32F100C6T6" "STM32F100C6T7" "STM32F100C8T6" "STM32F100C8T7" "STM32F100CBT6" "STM32F100CBT7" "STM32F100V8T6" "STM32F100V8T7" "STM32F100VBT6" "STM32F100VBT7" "STM32F100VCT6" "STM32F100VDT6" "STM32F100VET6" "STM32F100ZCT6" "STM32F100ZDT6" "STM32F100ZET6" "STM32F101C4T6" "STM32F101C6T6" "STM32F101C8U6" "STM32F101CBU6" "STM32F101RBH6" "STM32F101V8T6" "STM32F101VBT6" "STM32F101VCT6" "STM32F101VDT6" "STM32F101VET6" "STM32F101VFT6" "STM32F101VGT6" "STM32F101ZCT6" "STM32F101ZDT6" "STM32F101ZET6" "STM32F101ZFT6" "STM32F101ZGT6" "STM32F102C4T6" "STM32F102C6T6" "STM32F103C4T6" "STM32F103C4T7" "STM32F103C6T6" "STM32F103C6T7" "STM32F103C6U6" "STM32F103C6U7" "STM32F103C8T6" "STM32F103C8T7" "STM32F103CBT6" "STM32F103CBT7" "STM32F103CBU6" "STM32F103CBU7" "STM32F103RCY6" "STM32F103RCY7" "STM32F103RDY6" "STM32F103RDY7" "STM32F103REY6" "STM32F103REY7" "STM32F103V8T6" "STM32F103VBI6" "STM32F103VBI7" "STM32F103VBT6" "STM32F103VCT6" "STM32F103VCT7" "STM32F103VDT6" "STM32F103VDT7" "STM32F103VET6" "STM32F103VET7" "STM32F103VFT6" "STM32F103VFT7" "STM32F103VGT6" "STM32F103VGT7" "STM32F103ZCT6" "STM32F103ZCT7" "STM32F103ZDT6" "STM32F103ZDT7" "STM32F103ZET6" "STM32F103ZET7" "STM32F103ZFT6" "STM32F103ZFT7" "STM32F103ZGT6" "STM32F103ZGT7" "STM32F105V8T6" "STM32F105V8T7" "STM32F105VBT6" "STM32F105VBT7" "STM32F105VCT6" "STM32F105VCT7" "STM32F107VBT6" "STM32F107VBT7" "STM32F107VCH6" "STM32F107VCH7" "STM32F107VCT6" "STM32F107VCT7" "STM32F302VDT6" "STM32F302VET6" "STM32F302ZDT6" "STM32F302ZET6" "STM32F303C6T6" "STM32F303C8T6" "STM32F303C8Y6" "STM32F303CBT6" "STM32F303CBT7" "STM32F303CCT6" "STM32F303CCT7" "STM32F303VBT6" "STM32F303VBT7" "STM32F303VCT6" "STM32F303VCT7" "STM32F303VCY6" "STM32F303VCY7" "STM32F318C8Y6" "STM32F318K8U6" "STM32F318K8U7" "STM32F328C8T6" "STM32F334C4T6" "STM32F334C6T6" "STM32F334C8T6" "STM32F334C8Y6" "STM32F334C8Y7" "STM32F334K4U6" "STM32F334K4U7" "STM32F334K6U6" "STM32F334K6U7" "STM32F334K8U6" "STM32F334K8U7" "STM32F398VET6" "STM32F410C8U6" "STM32F410CBU6" "STM32F410T8Y6" "STM32F410TBY6" "STM32F411CCY6" "STM32F411CCY7" "STM32F411CEY6" "STM32F411CEY7" "STM32F411VCT6" "STM32F411VET6" "STM32F412CEU6" "STM32F412CGU6" "STM32F412REY6P" "STM32F412REY7P" "STM32F412RGY6P" "STM32F412RGY7P" "STM32F412VET6" "STM32F412VET7" "STM32F412VGT6" "STM32F412VGT7" "STM32F412ZET6" "STM32F412ZET7" "STM32F412ZGT6" "STM32F412ZGT7" "STM32F413CGU6" "STM32F413CGU7" "STM32F413CHU6" "STM32F413CHU7" "STM32F413MGY6" "STM32F413MGY7" "STM32F413MHY6" "STM32F413MHY7" "STM32F413VGT6" "STM32F413VGT7" "STM32F413VHT6" "STM32F413VHT7" "STM32F413ZGT6" "STM32F413ZGT7" "STM32F413ZHT6" "STM32F413ZHT7" "STM32F415OGY6" "STM32F415VGT6" "STM32F415ZGT6" "STM32F417IET6" "STM32F417IGT6" "STM32F417VET6" "STM32F417VGT6" "STM32F417ZET6" "STM32F417ZGT6" "STM32F423CHU6" "STM32F423CHU7" "STM32F423MHY6" "STM32F423MHY7" "STM32F423VHT6" "STM32F423VHT7" "STM32F423ZHT6" "STM32F423ZHT7" "STM32F427AGH6" "STM32F427AIH6" "STM32F427IGT6" "STM32F427IIT6" "STM32F427VGT6" "STM32F427VIT6" "STM32F427ZGT6" "STM32F427ZIT6" "STM32F429AGH6" "STM32F429AIH6" "STM32F429BET6" "STM32F429BGT6" "STM32F429BIT6" "STM32F429IIT6" "STM32F429NEH6" "STM32F429NGH6" "STM32F429NIH6" "STM32F429NIH7" "STM32F429VET6" "STM32F429VGT6" "STM32F429VIT6" "STM32F429ZET6" "STM32F429ZGT6" "STM32F437AIH6" "STM32F437IGT6" "STM32F437IIT6" "STM32F437VGT6" "STM32F437VGT7" "STM32F437VIT6" "STM32F437VIT7" "STM32F437ZGT6" "STM32F437ZIT6" "STM32F439AIH6" "STM32F439BGT6" "STM32F439BIT6" "STM32F439IGT6" "STM32F439IIT6" "STM32F439NGH6" "STM32F439NIH6" "STM32F439VGT6" "STM32F439VIT6" "STM32F446MCY6" "STM32F446MEY6" "STM32F446VCT6" "STM32F446VCT7" "STM32F446VET6" "STM32F446VET7" "STM32F446ZCT6" "STM32F446ZCT7" "STM32F446ZET6" "STM32F446ZET7" "STM32F469AEY6" "STM32F469AGY6" "STM32F469AIY6" "STM32F469BET6" "STM32F469BGT6" "STM32F469BIT6" "STM32F469IIT6" "STM32F469NEH6" "STM32F469NGH6" "STM32F469NIH6" "STM32F469NIH7" "STM32F469VET6" "STM32F469VGT6" "STM32F469ZET6" "STM32F469ZGT6" "STM32F479AGY6" "STM32F479AIY6" "STM32F479BGT6" "STM32F479BIT6" "STM32F479IGT6" "STM32F479IGT7" "STM32F479IIT6" "STM32F479IIT7" "STM32F479NGH6" "STM32F479NIH6" "STM32F730V8T6" "STM32F730V8T7" "STM32F730Z8T6" "STM32F730Z8T7" "STM32F732IET6" "STM32F732IET7" "STM32F732VET6" "STM32F732VET7" "STM32F732ZET6" "STM32F732ZET7" "STM32F733IET6" "STM32F733IET7" "STM32F733VEY6" "STM32F733ZET6" "STM32F733ZET7" "STM32F745IET6" "STM32F745IET7" "STM32F745IGT6" "STM32F745IGT7" "STM32F745VET6" "STM32F745VET7" "STM32F745VGT6" "STM32F745VGT7" "STM32F745ZET6" "STM32F745ZGT6" "STM32F746BET6" "STM32F746BGT6" "STM32F746IET6" "STM32F746IGT6" "STM32F746IGT7" "STM32F746NEH6" "STM32F746NGH6" "STM32F746NGH7" "STM32F746VET6" "STM32F746VGT6" "STM32F746VGT7" "STM32F746ZET6" "STM32F746ZGT6" "STM32F746ZGT7" "STM32F750N8H6" "STM32F750N8H7" "STM32F750V8T6" "STM32F750V8T7" "STM32F750Z8T6" "STM32F750Z8T7" "STM32F765BGT6" "STM32F765BIT6" "STM32F765IGT6" "STM32F765IIT6" "STM32F765NGH6" "STM32F765NGH7" "STM32F765NIH6" "STM32F765NIH7" "STM32F765VGT6" "STM32F765VGT7" "STM32F765VIT6" "STM32F765VIT7" "STM32F765ZGT6" "STM32F765ZGT7" "STM32F765ZIT6" "STM32F765ZIT7" "STM32F767BGT6" "STM32F767BIT6" "STM32F767IGT6" "STM32F767IIT6" "STM32F767NGH6" "STM32F767NIH6" "STM32F767VGT6" "STM32F767VGT7" "STM32F767VIT6" "STM32F767VIT7" "STM32F767ZGT6" "STM32F767ZIT6" "STM32F768AIY6" "STM32F769AGY6" "STM32F769AIY6" "STM32F769BGT6" "STM32F769BIT6" "STM32F769IGT6" "STM32F769IIT6" "STM32F769NGH6" "STM32F769NIH6" "STM32F777BIT6" "STM32F777IIT6" "STM32F777IIT7" "STM32F777NIH6" "STM32F777NIH7" "STM32F777VIT6" "STM32F777VIT7" "STM32F777ZIT6" "STM32F778AIY6" "STM32F779AIY6" "STM32F779BIT6" "STM32F779IIT6" "STM32F779NIH6" "STM32H723VET6" "STM32H723VGT6" "STM32H723ZET6" "STM32H723ZGT6" "STM32H725AEI6" "STM32H725AGI6" "STM32H725AGI7" "STM32H725IET6" "STM32H725IGT6" "STM32H725IGT7" "STM32H725VET6" "STM32H725ZET6" "STM32H725ZGT6" "STM32H725ZGT7" "STM32H730ABI6Q" "STM32H730IBT6Q" "STM32H730VBT6" "STM32H730ZBT6" "STM32H733VGT6" "STM32H733ZGT6" "STM32H735AGI6" "STM32H735IGT6" "STM32H735ZGT6" "STM32H745BGT6" "STM32H745BIT6" "STM32H745BIT7" "STM32H745IGT6" "STM32H745IIT6" "STM32H745IIT7" "STM32H745ZGT6" "STM32H745ZIT6" "STM32H745ZIT7" "STM32H747AGI6" "STM32H747AII6" "STM32H747BGT6" "STM32H747BIT6" "STM32H747IGT6" "STM32H747IIT6" "STM32H747ZIY6" "STM32H750IBT6" "STM32H750VBT6" "STM32H750ZBT6" "STM32H755BIT6" "STM32H755BIT7" "STM32H755IIT6" "STM32H755IIT7" "STM32H755ZIT6" "STM32H755ZIT7" "STM32H757AII6" "STM32H757BIT6" "STM32H757IIT6" "STM32H757ZIY6" "STM32H7A3AGI6Q" "STM32H7A3AII6Q" "STM32H7A3IGT6Q" "STM32H7A3IIT6Q" "STM32H7A3LGH6Q" "STM32H7A3LIH6Q" "STM32H7A3NGH6" "STM32H7A3NIH6" "STM32H7A3VGT6Q" "STM32H7A3VIT6Q" "STM32H7A3ZGT6Q" "STM32H7A3ZIT6Q" "STM32H7B0ABI6Q" "STM32H7B0IBT6" "STM32H7B0VBT6" "STM32H7B0ZBT6" "STM32L010C6T6" "STM32L031C4U6" "STM32L031C6U6" "STM32L031E4Y6" "STM32L031E6Y6" "STM32L031G4U6" "STM32L031G6U6" "STM32L031G6U6S" "STM32L031G6U7S" "STM32L051C6U6" "STM32L051C8U6" "STM32L051T6Y6" "STM32L051T8Y6" "STM32L052C6U6" "STM32L052C8U6" "STM32L052T6Y6" "STM32L052T6Y7" "STM32L052T8F6" "STM32L052T8F7" "STM32L052T8Y6" "STM32L052T8Y7" "STM32L053C6U6" "STM32L053C6U7" "STM32L053C8U6" "STM32L053C8U7" "STM32L062C8U6" "STM32L063C8U6" "STM32L071C8U6" "STM32L071C8U7" "STM32L071CBY6" "STM32L071CBY7" "STM32L071CZY6" "STM32L071CZY7" "STM32L071K8U6" "STM32L071K8U7" "STM32L071KBU6" "STM32L071KBU7" "STM32L071KZU6" "STM32L071KZU7" "STM32L071V8T6" "STM32L071VBT6" "STM32L071VBT7" "STM32L071VZT6" "STM32L071VZT7" "STM32L073CBU6" "STM32L073CZU6" "STM32L073CZY6" "STM32L073CZY7" "STM32L073RZI6" "STM32L073RZI7" "STM32L073V8T6" "STM32L073V8T7" "STM32L073VBT6" "STM32L073VBT7" "STM32L073VZT6" "STM32L073VZT7" "STM32L081CBT6" "STM32L081CZT6" "STM32L081CZU6" "STM32L081KZU6" "STM32L082CZY6" "STM32L082CZY7" "STM32L082KBU6" "STM32L082KZU6" "STM32L083CBT6" "STM32L083CZT6" "STM32L083CZU6" "STM32L083V8T6" "STM32L083VBT6" "STM32L083VZT6" "STM32L100C6U6" "STM32L100C6U6A" "STM32L151C6U6A" "STM32L151C8U6A" "STM32L151CBU6A" "STM32L151CCU6" "STM32L151CCU7" "STM32L151QDH6" "STM32L151QEH6" "STM32L151RCY6" "STM32L151RDY6" "STM32L151RDY7" "STM32L151UCY6" "STM32L151UCY7" "STM32L151V8T6A" "STM32L151VBT6A" "STM32L151VCT6" "STM32L151VDT6" "STM32L151VDY6X" "STM32L151VDY7X" "STM32L151VEY6" "STM32L151VEY7" "STM32L151ZDT6" "STM32L151ZET6" "STM32L152C6U6A" "STM32L152C8U6A" "STM32L152CBU6A" "STM32L152CCU6" "STM32L152QDH6" "STM32L152QEH6" "STM32L152RDY6" "STM32L152UCY6" "STM32L152V8T6A" "STM32L152VBT6A" "STM32L152VCT6" "STM32L152VDT6" "STM32L152VDT6X" "STM32L152VEY6" "STM32L152ZDT6" "STM32L152ZET6" "STM32L162QCH6" "STM32L162QDH6" "STM32L162RDY6" "STM32L162VCT6" "STM32L162VCT6A" "STM32L162VDT6" "STM32L162VDY6X" "STM32L162VEY6" "STM32L162ZCT6" "STM32L162ZDT6" "STM32L162ZET6" "STM32L475VCT6" "STM32L475VET6" "STM32L475VGT6" "STM32L476MEY6" "STM32L476MGY6" "STM32L476QEI6" "STM32L476QGI6" "STM32L476VCT6" "STM32L476VET6" "STM32L476VGT6" "STM32L476ZET6" "STM32L476ZGT6" "STM32L476ZGT6P" "STM32L476ZGT7P"]

pcb-module mod :
  for (mpn in qsort(mpns), i in 0 to false) do :
    println(i)
    try :
      inst m : micro-controller(["mpn" => mpn])([`bypass-package => 4.7e-6])
    catch (e:Exception) :
      println(e)
      println(mpn)

make-default-board(mod, 4, Rectangle(400.0, 400.0))
view-board()
